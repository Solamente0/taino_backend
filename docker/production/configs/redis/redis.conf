# Redis configuration for production
# Basic settings
daemonize no
pidfile /var/run/redis/redis-server.pid
port 6379
tcp-backlog 511
timeout 0
tcp-keepalive 300

# General settings
loglevel notice
logfile ""
databases 16

# Security settings
maxclients 10000

# Memory management
maxmemory 768mb
maxmemory-policy allkeys-lru
# Don't save to disk in this config (we're using Redis for caching, not persistence)
save ""
# Disable RDB persistence
appendonly no

# Performance tuning
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb
lua-time-limit 5000
slowlog-log-slower-than 10000
slowlog-max-len 128

# Other settings
stop-writes-on-bgsave-error yes
